<div class="rxjs-chat" [ngClass]="{'has-background-black': (isDark | async)}">
  <ng-container *ngIf="isLogin | async; else login">
    <div class="container" >
      <nav class="navbar" role="navigation" aria-label="main navigation" [ngClass]="{'is-black': (isDark | async)}">
        <div class="navbar-brand">
          <p class="navbar-item">
            RXJS-CHAT
          </p>

          <a
            (click)="toggleMenu()"
            role="button"
            class="navbar-burger burger"
            aria-label="menu"
            aria-expanded="false"
            data-target="navbarBasicExample"
          >
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>

        <div
          id="navbarBasicExample"
          class="navbar-menu"
          [ngClass]="{ 'is-active': activeMenu, 'is-black': isDark | async }"
        >
          <div class="navbar-end">
            <div class="navbar-item">
              <div class="buttons">
                <a
                  class="button is-light"
                  routerLink="/chat"
                  [routerLinkActive]="['is-primary']"
                >
                  chat
                  <span *ngIf="(count | async) != 0" class="notifNotRead">{{count | async}}</span>
                </a>
                <a
                  class="button is-light"
                  routerLink="/settings"
                  [routerLinkActive]="['is-primary']"
                >
                  settings
                </a>
                <a class="button is-light" (click)="disconnect()">
                  disconnect
                </a>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <section
      class="hero is-light is-fullheight-with-navbar"
      [ngClass]="{ 'is-dark': isDark | async }"
    >
      <div class="hero-body">
        <div class="container">
          <router-outlet></router-outlet>
        </div>
      </div>
    </section>
  </ng-container>
  <ng-template #login>
    <section class="hero is-light is-fullheight">
      <div class="hero-body">
        <div class="container">
          <router-outlet></router-outlet>
        </div>
      </div>
    </section>
  </ng-template>
</div>
